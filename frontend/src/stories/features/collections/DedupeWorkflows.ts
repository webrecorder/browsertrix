import { html } from "lit";

import type { DedupeWorkflows } from "@/features/collections/dedupe-workflows";
import type { Crawl, ListWorkflow } from "@/types/crawler";

import "@/features/collections/dedupe-workflows";
import "@/features/archived-items/item-dependency-tree";
import "@/features/archived-items/crawl-status";

export type RenderProps = DedupeWorkflows;

export const renderComponent = (props: Partial<RenderProps>) => {
  return html`<btrix-dedupe-workflows
    .workflows=${props.workflows}
  ></btrix-dedupe-workflows>`;
};

const crawls: Crawl[] = [
  {
    id: "item-storybook-id-1",
    type: "crawl",
    userid: "item-storybook-userid-1",
    userName: "Alice",
    oid: "item-storybook-oid-1",
    profileid: null,
    name: "",
    description: "",
    started: "2023-10-27T03:18:15Z",
    finished: "2023-10-27T03:18:37Z",
    state: "complete",
    stats: { found: "1", done: "1", size: "32491355" },
    fileSize: 16257194,
    fileCount: 1,
    tags: [],
    collectionIds: [],
    collections: [],
    crawlExecSeconds: 8,
    qaCrawlExecSeconds: 0,
    cid: "item-storybook-cid-1",
    firstSeed: "https://webrecorder.net/",
    seedCount: 1,
    profileName: null,
    stopping: false,
    shouldPause: false,
    manual: true,
    scale: 1,
    browserWindows: 4,
    crawlerChannel: "default",
    proxyId: null,
    image: null,
    qaRunCount: 0,
    activeQAStats: null,
    lastQAState: null,
    lastQAStarted: null,
    pageCount: 1,
    requiresCrawls: ["item-storybook-id-2", "item-storybook-id-3"],
    requiredByCrawls: [],
  },
  {
    id: "item-storybook-id-2",
    type: "crawl",
    name: "",
    started: "2023-10-27T03:18:15Z",
    finished: "2023-10-27T03:18:37Z",
    state: "complete",
    stats: { found: "1", done: "1", size: "32491355" },
    fileSize: 16257194,
    firstSeed: "https://example.com/",
    seedCount: 1,
    pageCount: 1,
    requiresCrawls: [],
    requiredByCrawls: [],
  },
  {
    id: "item-storybook-id-3",
    type: "crawl",
    name: "",
    started: "2023-10-27T03:18:15Z",
    finished: "2023-10-27T03:18:37Z",
    state: "complete",
    stats: { found: "1", done: "1", size: "32491355" },
    fileSize: 16257194,
    firstSeed: "https://example.com/",
    seedCount: 1,
    pageCount: 1,
    requiresCrawls: [],
    requiredByCrawls: [],
  },
] as const as Crawl[];

const workflows: ListWorkflow[] = [
  {
    name: "",
    description: null,
    created: "2025-12-04T22:11:25Z",
    createdBy: "20c3f24f-1f61-419a-b65d-49c8055e8227",
    modified: "2025-12-04T22:23:18Z",
    modifiedBy: "20c3f24f-1f61-419a-b65d-49c8055e8227",
    autoAddCollections: ["9821f8ee-654d-4b52-b5aa-2848aee568c6"],
    inactive: false,
    crawlAttemptCount: 5,
    crawlCount: 5,
    crawlSuccessfulCount: 5,
    totalSize: 1336853,
    lastCrawlId: "manual-20251204230139-1c562a3b-c06",
    lastCrawlStartTime: "2025-12-04T23:01:39Z",
    lastCrawlTime: "2025-12-04T23:04:46Z",
    lastCrawlState: "complete",
    lastCrawlSize: 220956,
    lastRun: "2025-12-04T23:04:46Z",
    isCrawlRunning: false,
    shareable: false,
    id: "1c562a3b-c06d-4f7e-8415-844b8f8212a2",
    schedule: "",
    jobType: "custom",
    config: null,
    tags: [],
    crawlTimeout: 0,
    maxCrawlSize: 0,
    browserWindows: 1,
    oid: "636b22b1-5654-49e1-b631-75c2561ba083",
    profileid: null,
    crawlerChannel: "dev-2",
    proxyId: null,
    firstSeed: "https://webrecorder.net/",
    seedCount: 1,
    dedupeCollId: "9821f8ee-654d-4b52-b5aa-2848aee568c6",
    lastCrawlStopping: false,
    lastCrawlShouldPause: false,
    lastCrawlPausedAt: null,
    lastCrawlPausedExpiry: null,
    profileName: null,
    createdByName: "admin",
    modifiedByName: "admin",
    lastStartedByName: "sua yoo",
  },
  {
    name: "webrecorder.net no dedupe",
    description: null,
    created: "2025-12-05T00:08:49Z",
    createdBy: "1dee0f33-567b-4e02-b23d-85689019883f",
    modified: "2025-12-05T00:08:49Z",
    modifiedBy: "1dee0f33-567b-4e02-b23d-85689019883f",
    autoAddCollections: [],
    inactive: false,
    crawlAttemptCount: 0,
    crawlCount: 0,
    crawlSuccessfulCount: 0,
    totalSize: 0,
    lastCrawlId: null,
    lastCrawlStartTime: null,
    lastCrawlTime: null,
    lastCrawlState: null,
    lastCrawlSize: null,
    lastRun: null,
    isCrawlRunning: false,
    shareable: false,
    id: "672ee61a-70d1-4276-89ff-a6e74871a3b6",
    schedule: "",
    jobType: "custom",
    config: null,
    tags: [],
    crawlTimeout: 0,
    maxCrawlSize: 0,
    browserWindows: 1,
    oid: "636b22b1-5654-49e1-b631-75c2561ba083",
    profileid: null,
    crawlerChannel: "default",
    proxyId: null,
    firstSeed: "https://webrecorder.net/",
    seedCount: 1,
    dedupeCollId: null,
    lastCrawlStopping: false,
    lastCrawlShouldPause: false,
    lastCrawlPausedAt: null,
    lastCrawlPausedExpiry: null,
    profileName: null,
    createdByName: "sua yoo",
    modifiedByName: "sua yoo",
    lastStartedByName: null,
  },
] as const as ListWorkflow[];

export const data = { crawls, workflows };
